# =============================================
# Book Recommendation System â€” Environment Vars
# =============================================
# Copy this to .env and fill in real values.
# NEVER commit .env to version control.

# Environment: development | production
ENVIRONMENT=development

# PostgreSQL
POSTGRES_USER=bookrec_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=bookrec
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# JWT
JWT_SECRET_KEY=CHANGE_ME_LONG_RANDOM_STRING_64_CHARS
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate Limiting
RATE_LIMIT_PER_USER=10
RATE_LIMIT_PER_IP=50
RATE_LIMIT_WINDOW_SECONDS=60

# Recommendation Engine (internal)
RECOMMENDATION_ENGINE_URL=http://recommendation_engine:8001

# Celery
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2

# Model Storage
MODEL_STORAGE_PATH=/app/shared/models
MODEL_STORAGE_TYPE=s3

# AWS (development: uses LocalStack; production: uses real AWS)
AWS_REGION=us-east-1
AWS_S3_BUCKET=bookrec-models
AWS_SECRETS_MANAGER_SECRET_NAME=bookrec/production
AWS_ENDPOINT_URL=http://localstack:4566
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# Monitoring
ENABLE_METRICS=true
LOG_LEVEL=INFO
LOG_FORMAT=json

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
